#!/usr/bin/env bash

THIS_MINER_NAME="xmr-stack-cpu"
[ -t 1 ] && . colors


[[ `ps aux | grep "./ethminer" | grep -v grep | wc -l` != 0 ]] &&
	echo -e "${RED}$THIS_MINER_NAME miner is already running${NOCOLOR}" &&
	exit 1




function config_gen() {
	:
}


config_gen


cd /hive/$THIS_MINER_NAME
while true
do
	/hive/$THIS_MINER_NAME/ethminer.sh
	echo ""
	echo "${YELLOW}$THIS_MINER_NAME exited, waiting to cooldown a bit${NOCOLOR}"
	echo ""
	sleep 3
done
